{"version":3,"sources":["webpack:///./src/pages/live/index.js","webpack:///../../src/types.ts","webpack:///../../src/index.ts","webpack:///./node_modules/cross-fetch/dist/browser-polyfill.js"],"names":["styles","container","content","LiveIndex","props","_this","_React$Component","call","this","state","messages","storeMessages","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default","data","console","log","setState","componentDidMount","request","then","render","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","style","map","m","index","key","React","Component","ClientError","_super","response","message","extractMessage","JSON","stringify","Error","captureStackTrace","__extends","errors","e","status","exports","types_1","__webpack_require__","types_2","GraphQLClient","url","options","prototype","rawRequest","query","variables","_a","headers","others","__rest","body","undefined","fetch","__assign","method","Object","assign","Content-Type","getResult","_b","sent","result","ok","headers_1","status_1","errorResult","error","setHeaders","setHeader","value","contentType","get","startsWith","json","text","default","self","support","searchParams","iterable","Symbol","blob","Blob","formData","arrayBuffer","viewClasses","isDataView","obj","DataView","isPrototypeOf","isArrayBufferView","ArrayBuffer","isView","indexOf","toString","Headers","append","name","normalizeName","normalizeValue","oldValue","has","hasOwnProperty","set","forEach","callback","thisArg","keys","items","push","iteratorFor","values","entries","iterator","methods","Request","clone","_bodyInit","Body","Response","statusText","type","redirectStatuses","redirect","RangeError","location","input","init","Promise","resolve","reject","xhr","XMLHttpRequest","onload","rawHeaders","getAllResponseHeaders","replace","split","line","parts","shift","trim","join","responseURL","responseText","onerror","TypeError","ontimeout","open","credentials","withCredentials","responseType","setRequestHeader","send","polyfill","String","test","toLowerCase","next","done","Array","isArray","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","buffer","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","readAsText","chars","length","i","fromCharCode","readArrayBufferAsText","decode","parse","upcased","mode","toUpperCase","referrer","form","bytes","decodeURIComponent","bodyInit"],"mappings":"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","file":"component---src-pages-live-index-js-718633ded7bb85e39abe.js","sourcesContent":["import React from 'react';\nimport { request } from 'graphql-request';\nconst styles = {\n\tcontainer: {},\n\tcontent: {}\n};\n\nexport default class LiveIndex extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmessages: [ { content: 'iam here' } ]\n\t\t};\n\t\tthis.storeMessages = this.storeMessages.bind(this);\n\t}\n\n\tstoreMessages(data) {\n\t\tconsole.log('this: ', this);\n\t\tthis.setState({ messages: data.messages });\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log('doing call');\n\t\tconst query = `query{\n            messages {\n                content\n            }\n        }`;\n\n\t\trequest('http://localhost:4000', query).then(this.storeMessages);\n\t}\n\n\trender() {\n\t\tconst { messages } = this.state;\n\t\tconsole.log('messages: ', messages);\n\t\treturn (\n\t\t\t<div style={styles.container}>\n\t\t\t\t<div style={styles.content}>{messages.map((m, index) => <p key={`p_${index}`}>{m.content}</p>)}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ClientError = /** @class */ (function (_super) {\n    __extends(ClientError, _super);\n    function ClientError(response, request) {\n        var _this = this;\n        var message = ClientError.extractMessage(response) + \": \" + JSON.stringify({ response: response, request: request });\n        _this = _super.call(this, message) || this;\n        _this.response = response;\n        _this.request = request;\n        // this is needed as Safari doesn't support .captureStackTrace\n        /* tslint:disable-next-line */\n        if (typeof Error.captureStackTrace === 'function') {\n            Error.captureStackTrace(_this, ClientError);\n        }\n        return _this;\n    }\n    ClientError.extractMessage = function (response) {\n        try {\n            return response.errors[0].message;\n        }\n        catch (e) {\n            return \"GraphQL Error (Code: \" + response.status + \")\";\n        }\n    };\n    return ClientError;\n}(Error));\nexports.ClientError = ClientError;\n//# sourceMappingURL=types.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"./types\");\nvar types_2 = require(\"./types\");\nexports.ClientError = types_2.ClientError;\nrequire(\"cross-fetch/polyfill\");\nvar GraphQLClient = /** @class */ (function () {\n    function GraphQLClient(url, options) {\n        this.url = url;\n        this.options = options || {};\n    }\n    GraphQLClient.prototype.rawRequest = function (query, variables) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, headers, others, body, response, result, headers_1, status_1, errorResult;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n                        body = JSON.stringify({\n                            query: query,\n                            variables: variables ? variables : undefined,\n                        });\n                        return [4 /*yield*/, fetch(this.url, __assign({ method: 'POST', headers: Object.assign({ 'Content-Type': 'application/json' }, headers), body: body }, others))];\n                    case 1:\n                        response = _b.sent();\n                        return [4 /*yield*/, getResult(response)];\n                    case 2:\n                        result = _b.sent();\n                        if (response.ok && !result.errors && result.data) {\n                            headers_1 = response.headers, status_1 = response.status;\n                            return [2 /*return*/, __assign({}, result, { headers: headers_1, status: status_1 })];\n                        }\n                        else {\n                            errorResult = typeof result === 'string' ? { error: result } : result;\n                            throw new types_1.ClientError(__assign({}, errorResult, { status: response.status, headers: response.headers }), { query: query, variables: variables });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GraphQLClient.prototype.request = function (query, variables) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, headers, others, body, response, result, errorResult;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.options, headers = _a.headers, others = __rest(_a, [\"headers\"]);\n                        body = JSON.stringify({\n                            query: query,\n                            variables: variables ? variables : undefined,\n                        });\n                        return [4 /*yield*/, fetch(this.url, __assign({ method: 'POST', headers: Object.assign({ 'Content-Type': 'application/json' }, headers), body: body }, others))];\n                    case 1:\n                        response = _b.sent();\n                        return [4 /*yield*/, getResult(response)];\n                    case 2:\n                        result = _b.sent();\n                        if (response.ok && !result.errors && result.data) {\n                            return [2 /*return*/, result.data];\n                        }\n                        else {\n                            errorResult = typeof result === 'string' ? { error: result } : result;\n                            throw new types_1.ClientError(__assign({}, errorResult, { status: response.status }), { query: query, variables: variables });\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GraphQLClient.prototype.setHeaders = function (headers) {\n        this.options.headers = headers;\n        return this;\n    };\n    GraphQLClient.prototype.setHeader = function (key, value) {\n        var headers = this.options.headers;\n        if (headers) {\n            headers[key] = value;\n        }\n        else {\n            this.options.headers = (_a = {}, _a[key] = value, _a);\n        }\n        return this;\n        var _a;\n    };\n    return GraphQLClient;\n}());\nexports.GraphQLClient = GraphQLClient;\nfunction rawRequest(url, query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n        var client;\n        return __generator(this, function (_a) {\n            client = new GraphQLClient(url);\n            return [2 /*return*/, client.rawRequest(query, variables)];\n        });\n    });\n}\nexports.rawRequest = rawRequest;\nfunction request(url, query, variables) {\n    return __awaiter(this, void 0, void 0, function () {\n        var client;\n        return __generator(this, function (_a) {\n            client = new GraphQLClient(url);\n            return [2 /*return*/, client.request(query, variables)];\n        });\n    });\n}\nexports.request = request;\nexports.default = request;\nfunction getResult(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType;\n        return __generator(this, function (_a) {\n            contentType = response.headers.get('Content-Type');\n            if (contentType && contentType.startsWith('application/json')) {\n                return [2 /*return*/, response.json()];\n            }\n            else {\n                return [2 /*return*/, response.text()];\n            }\n            return [2 /*return*/];\n        });\n    });\n}\n//# sourceMappingURL=index.js.map","(function(self) {\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    };\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue+','+value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push(name); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) { items.push(value); });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) { items.push([name, value]); });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=');\n        var name = split.shift().replace(/\\+/g, ' ');\n        var value = split.join('=').replace(/\\+/g, ' ');\n        form.append(decodeURIComponent(name), decodeURIComponent(value));\n      }\n    });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n      var xhr = new XMLHttpRequest();\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  };\n  self.fetch.polyfill = true;\n})(typeof self !== 'undefined' ? self : this);\n"],"sourceRoot":""}